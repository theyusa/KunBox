    private fun buildRunExperimentalConfig(settings: AppSettings): ExperimentalConfig {
        // 使用 filesDir 而非 cacheDir,确保 FakeIP 缓存不会被系统清理
        val singboxDataDir = File(context.filesDir, "singbox_data").also { it.mkdirs() }

        // **关键修复**: 添加 Clash API 配置以提供核心保活能力
        // Clash API 会定期发送心跳,防止核心进入完全空闲状态
        // 这可以缓解 Telegram 等长连接应用切换后无法连接的问题
        val clashApi = ClashApiConfig(
            externalController = "127.0.0.1:9090",
            defaultMode = "rule"
        )

        return ExperimentalConfig(
            cacheFile = CacheFileConfig(
                enabled = true,
                path = File(singboxDataDir, "cache.db").absolutePath,
                storeFakeip = settings.fakeDnsEnabled
            ),
            clashApi = clashApi  // 启用 Clash API 提供保活
        )
    }
